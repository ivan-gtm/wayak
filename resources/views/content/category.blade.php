@extends('layouts.frontend')

@section('title', $category_obj->name.' Templates | Designer Online | Wayak')

@section('meta')
    <link rel="stylesheet" href="{{ asset('assets/css/menu.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/home.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/category.css') }}">
@endsection


@section('content')
<section id="_main_content">
        <div class="container-wrapper ">
            <div class="container">
                <div class="row">
                    <div class="tablet-text-align-center col-xxs-12 col-xxs-offset-0 col-sm-8 col-lg-offset-0 col-lg-5 col-md-offset-0 col-md-5 col-sm-offset-2 col-xs-offset-2 col-xs-8">
                        <div class="vc_empty_space  space-md-56 space-sm-32"><span class="vc_empty_space_inner"></span></div>
                        <div class="wpb_text_column wpb_content_element ">
                            <div class="wpb_wrapper">
                                <h1 class="h-lg-56 h-md-48-56 h-sm-40-48">Wedding Design Online</h1>
                            </div>
                        </div>
                        <div class="vc_empty_space  space-md-24 space-sm-16" style="height: 24px"><span class="vc_empty_space_inner"></span></div>
                        <div class="wpb_text_column wpb_content_element ">
                            <div class="wpb_wrapper"> The menu design is a visit card that sets the tone of your restaurant and makes the first impression of it. Whether you run a fancy restaurant or a local cafe, you want to engage your visitors and turn them into repeat customers.
                                With Crelloâ€™s menu maker, every restaurant owner can create or renew a menu card in just a few minutes.</div>
                        </div>
                        <div class="vc_btn3-container vc_btn3-inline"><a class="vc_general vc_btn3 vc_btn3-size-md vc_btn3-shape-rounded vc_btn3-style-btn-crello vc_btn3-color-btn-blue" href="https://crello.com/artboard/?newDesign=true&amp;width=21&amp;height=29.7&amp;group=EO&amp;format=Menu&amp;measureUnits=cm"
                                title="" data-categ="landingMenuMaker" data-value="joinButton1">Open in Editor</a></div>
                        <div class="wpb_text_column wpb_content_element ">
                            <div class="wpb_wrapper">
                                <p><span style="font-size: 14px; line-height: 21px; color: #91949c;">Free to use. No credit card required.</span></p>
                            </div>
                        </div>
                    </div>
                    <div class="col-xxs-12 col-xxs-offset-0 col-sm-12 col-lg-offset-0 col-lg-7 col-md-offset-0 col-md-7 col-sm-offset-0">
                        <div class="wpb_single_image wpb_content_element vc_align_left   top-112">
                            <figure class="wpb_wrapper vc_figure">
                                <div class="vc_single_image-wrapper   vc_box_border_grey">
                                    <img loading="lazy" srcset="img/category-300x297.png 300w,img/category-1024x1013.png 1024w,img/category-1500x1484.png 1536w" sizes="(max-width: 414px) 300px, (max-width: 720px) 600px, 1024px" class="vc_single_image-img" src="img/category-300x297.png"
                                        width="697" height="614" alt="Wayak Templates Thumbnails" title="Wayak Templates Thumbnails">
                                </div>
                            </figure>
                        </div>
                        <div class="vc_empty_space  space-md-0 space-sm-0" style="height: 17px"><span class="vc_empty_space_inner"></span></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-wrapper " id="three-million-users">
            <div class="container">
                <div class="row three-million-users margin-top-80-56-0">
                    <div class="col-sm-12">
                        <div class="vc_empty_space  space-md-48 space-sm-32" style="/* height: 66px */"><span class="vc_empty_space_inner"></span></div>
                        <div class="wpb_text_column wpb_content_element " style="margin-bottom: 12px;">
                            <div class="wpb_wrapper">
                                <h3 class="h-lg-64 h-md-40-48 h-sm-27-32" style="text-align: center;">
                                    <span style="color: #ffffff; text-shadow: 0px 10px 25px rgba(0, 0, 0, 0.5);">
                                            Thousands of users worldwide
                                        </span>
                                </h3>
                            </div>
                        </div>

                        <div class="vc_btn3-container  padding-44 vc_btn3-center"><a class="vc_general vc_btn3 vc_btn3-size-md vc_btn3-shape-rounded vc_btn3-style-btn-crello vc_btn3-color-btn-yellow" href="https://crello.com/artboard/?newDesign=true&amp;width=21&amp;height=29.7&amp;group=EO&amp;format=Menu&amp;measureUnits=cm"
                                title="" data-categ="landingMenuMaker" data-value="joinButton10">Get started</a></div>
                        <div class="vc_empty_space  space-md-48 space-sm-32" style="/* height: 66px */">
                            <span class="vc_empty_space_inner"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="vc_row-full-width vc_clearfix"></div>
        <div class="container" style="display: none;">
            <div class="row margin-top-80-56-32">
                <div class="col-sm-12">
                    <div class="row">
                        <div class="col-sm-8 col-sm-offset-2">
                            <div class="vc_column-inner">
                                <div class="wpb_text_column wpb_content_element ">
                                    <div class="wpb_wrapper">
                                        <h2 class="h-lg-40 h-md-40 h-sm-34-40" style="text-align: center;">30,000+ Ready-to-use Wedding Templates</h2>
                                        <p style="text-align: center;">Making Wedding designs never been easier</p>
                                    </div>
                                </div>
                                <div class="vc_empty_space" style="height: 32px"><span class="vc_empty_space_inner"></span></div>
                            </div>
                        </div>
                    </div>
                    <div class="crello-templates-grid-wrapper">
                        <div class="template">
                            <a href="http://localhost:8001/us/template/wedding-card-date-save-minimal-style-lux-block-type-4101471">
                                <img loading="lazy" src="http://localhost:8001/design/template/4101471/thumbnails/en/S412yG_lbMGzT5Lfg_carousel.jpg" alt="Card Save Date Wedding Minimal Lux Style Block Type">
                            </a>
                        </div>
                    </div>
                    <div class="vc_empty_space  space-md-56 space-sm-32" style="height: 64px"><span class="vc_empty_space_inner"></span></div>
                    <div class="vc_btn3-container  padding-44 vc_btn3-center"><a class="vc_general vc_btn3 vc_btn3-size-md vc_btn3-shape-rounded vc_btn3-style-btn-crello vc_btn3-color-btn-blue" href="https://crello.com/inspiration/" title="" data-categ="landingMenuMaker" data-value="joinButton11">Browse all templates</a></div>
                    <div class="vc_empty_space  space-md-56 space-sm-48" style="height: 80px"><span class="vc_empty_space_inner"></span></div>
                </div>
            </div>
        </div>
    </section>

    <section id="main_content">
        <div class="container-wrapper ">
            <div class="container">

                <!-- <h1>Infinite Scroll - Isotope image grid</h1> -->
                <div class="row">
                    <div class="col-sm-8 col-sm-offset-2">
                        <div class="vc_column-inner">
                            <div class="wpb_text_column wpb_content_element ">
                                <div class="wpb_wrapper">
                                    <h2 class="h-lg-40 h-md-40 h-sm-34-40" style="text-align: center;">30,000+ Ready-to-use Wedding Templates</h2>
                                    <p style="text-align: center;">Making Wedding designs never been easier</p>
                                </div>
                            </div>
                            <div class="vc_empty_space" style="height: 32px"><span class="vc_empty_space_inner"></span></div>
                        </div>
                    </div>
                </div>

                <div class="grid are-images-unloaded crello-templates-grid-wrapper">
                    <div class="grid__col-sizer"></div>
                    <div class="grid__gutter-sizer"></div>
                    <!-- <div class="grid__item grid__item--height2"></div>
                    <div class="grid__item grid__item--width2">
                        <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/orange-tree.jpg" alt="orange tree" />
                    </div>
                    <div class="grid__item grid__item--height3"></div> -->
                    @foreach ($templates as $template)
                        <div class="grid__item template">
                            <a href="{{ route( 'template.productDetail', [
                                        'country' => $country,
                                        'slug' => $template->slug
                                    ] ) }}">
                                <img class="img-fluid" 
                                    loading="lazy" 
                                    src="{{ asset( 'design/template/'.$template->_id.'/thumbnails/'.$language_code.'/'.$template->previewImageUrls["carousel"] ) }}" 
                                    alt="{{ $template->title }}">
                            </a>
                        </div>
                    @endforeach
                </div>

                <div class="page-load-status">
                    <div class="loader-ellips infinite-scroll-request">
                        <span class="loader-ellips__dot"></span>
                        <span class="loader-ellips__dot"></span>
                        <span class="loader-ellips__dot"></span>
                        <span class="loader-ellips__dot"></span>
                    </div>
                    <p class="infinite-scroll-last">End of content</p>
                    <p class="infinite-scroll-error">No more pages to load</p>
                </div>
            </div>
        </div>
    </section>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{{ asset('assets/js/infinite-scroll.pkgd.min.js') }}"></script>
    <script src="{{ asset('assets/js/isotope.pkgd.min.js') }}"></script>
    <script>
        //-------------------------------------//
        // init Isotope

        var $grid = $('.grid').isotope({
            itemSelector: 'none', // select none at first
            masonry: {
                columnWidth: '.grid__col-sizer',
                gutter: '.grid__gutter-sizer',
            },
            percentPosition: true,
            stagger: 30,
            // nicer reveal transition
            visibleStyle: {
                transform: 'translateY(0)',
                opacity: 1
            },
            hiddenStyle: {
                transform: 'translateY(100px)',
                opacity: 0
            },
        });

        // initial items reveal
        $grid.imagesLoaded(function() {
            $grid.removeClass('are-images-unloaded');
            $grid.isotope('option', {
                itemSelector: '.grid__item'
            });
            var $items = $grid.find('.grid__item');
            $grid.isotope('appended', $items);
        });



        function getPenPath() {
            let pageNumber = (this.loadCount + 1) * 10;
            return `{{ route('showCategoryLevel3',[
                'country' => 'us',
                'cat_lvl_1' => $cat_lvl_1_slug,
                'cat_lvl_2' => $cat_lvl_2_slug,
                'cat_lvl_3' => $cat_lvl_3_slug
            ]) }}?page=${pageNumber}`;
        }

        //-------------------------------------//
        // init Infinte Scroll

        // get Isotope instance
        var iso = $grid.data('isotope');

        $grid.infiniteScroll({
            path: getPenPath,
            status: '.page-load-status',
            // do not set append
            // do not set outlayer
        });

        // append items on load
        $grid.on('load.infiniteScroll', function(event, response, path) {
            var $items = $(response).find('.grid__item');
            // append items after images loaded
            $items.imagesLoaded(function() {
                $grid.append($items);
                $grid.isotope('insert', $items);
            });
        });
    </script>
    
@endsection